=========================================================================================
                 WRITING PRISMA SCHEMA & MODEL RELATIONS
=========================================================================================

=========================================================================================
# 0. ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶è‡¶á ‡¶Ö‡¶Ç‡¶∂‡ßá ‡¶ï‡ßÄ ‡¶∂‡¶ø‡¶ñ‡¶¨‡ßã?
=========================================================================================
‡¶è‡¶á ‡¶Ö‡¶ß‡ßç‡¶Ø‡¶æ‡ßü‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∂‡¶ø‡¶ñ‡¶¨‡ßã:

‚úî Prisma Schema ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶≤‡¶ø‡¶ñ‡¶§‡ßá ‡¶π‡ßü (Proper Way)  
‚úî Model ‡¶ï‡ßÄ  
‚úî Field types  
‚úî Relation ‡¶ï‡ßÄ  
‚úî One-to-One Relation  
‚úî One-to-Many Relation  
‚úî Many-to-Many Relation  
‚úî Real-world examples (Backend friendly)

üëâ Prisma ‡¶∂‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá IMPORTANT & CORE PART ‡¶è‡¶ü‡¶æ

=========================================================================================
# 1. Prisma Schema ‡¶ï‡ßÄ?
=========================================================================================
Prisma Schema ‡¶π‡¶≤‡ßã ‚Äî

üëâ Database structure ‡¶è‡¶∞ blueprint  
üëâ ‡¶ï‡ßã‡¶® table ‡¶•‡¶æ‡¶ï‡¶¨‡ßá  
üëâ ‡¶ï‡ßã‡¶® column ‡¶•‡¶æ‡¶ï‡¶¨‡ßá  
üëâ ‡¶ï‡ßã‡¶® relation ‡¶•‡¶æ‡¶ï‡¶¨‡ßá  

File location:
-----------------------------------------------------------------------------------------
prisma/schema.prisma
-----------------------------------------------------------------------------------------

‡¶è‡¶á ‡¶´‡¶æ‡¶á‡¶≤‡¶á:
‚úî Database design control ‡¶ï‡¶∞‡ßá  
‚úî Prisma Client generate ‡¶ï‡¶∞‡ßá  

üëâ ‡¶è‡¶ï ‡¶ï‡¶•‡¶æ‡ßü: **Schema = Heart of Prisma**

=========================================================================================
# 2. Prisma Schema ‡¶è‡¶∞ Main Parts
=========================================================================================
schema.prisma ‡¶è ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ ‡ß©‡¶ü‡¶æ ‡¶Ö‡¶Ç‡¶∂ ‡¶•‡¶æ‡¶ï‡ßá:

-----------------------------------------------------------------------------------------
1Ô∏è‚É£ generator
2Ô∏è‚É£ datasource
3Ô∏è‚É£ model
-----------------------------------------------------------------------------------------

=========================================================================================
# 3. Generator Block
=========================================================================================
Prisma Client generate ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø:

-----------------------------------------------------------------------------------------
generator client {
  provider = "prisma-client-js"
}
-----------------------------------------------------------------------------------------

‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ:
- Prisma Client TypeScript/JS code generate ‡¶ï‡¶∞‡¶¨‡ßá

=========================================================================================
# 4. Datasource Block
=========================================================================================
Database connection define ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü:

-----------------------------------------------------------------------------------------
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
-----------------------------------------------------------------------------------------

‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ:
- provider ‚Üí ‡¶ï‡ßã‡¶® database
- url ‚Üí .env ‡¶•‡ßá‡¶ï‡ßá connection string

=========================================================================================
# 5. Model ‡¶ï‡ßÄ?
=========================================================================================
Model ‡¶Æ‡¶æ‡¶®‡ßá ‡¶π‡¶≤‡ßã ‚Äî

üëâ Database Table  
üëâ Table ‡¶è‡¶∞ structure  
üëâ Column + Constraint + Relation  

Syntax:
-----------------------------------------------------------------------------------------
model ModelName {
  fieldName DataType @attributes
}
-----------------------------------------------------------------------------------------

=========================================================================================
# 6. Basic Model Example
=========================================================================================
User model:

-----------------------------------------------------------------------------------------
model User {
  id        Int      @id @default(autoincrement())
  name      String
  email     String   @unique
  password  String
  createdAt DateTime @default(now())
}
-----------------------------------------------------------------------------------------

‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ:
- id ‚Üí Primary Key
- @unique ‚Üí Unique constraint
- @default ‚Üí Default value

=========================================================================================
# 7. Prisma Field Types (Common)
=========================================================================================
‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶¨‡ßá‡¶∂‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶π‡ßü:

-----------------------------------------------------------------------------------------
Int        ‚Üí number
String     ‚Üí text / varchar
Boolean    ‚Üí true / false
DateTime   ‚Üí timestamp
Float      ‚Üí decimal
Json       ‚Üí JSON data
-----------------------------------------------------------------------------------------

Optional field:
-----------------------------------------------------------------------------------------
phone String?
-----------------------------------------------------------------------------------------
üëâ NULL allow ‡¶ï‡¶∞‡¶¨‡ßá

=========================================================================================
# 8. Relation ‡¶ï‡ßÄ?
=========================================================================================
Relation ‡¶Æ‡¶æ‡¶®‡ßá ‡¶π‡¶≤‡ßã ‚Äî

üëâ ‡¶è‡¶ï table ‡¶è‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø table ‡¶è‡¶∞ connection  

Real life example:
- User ‚Üí Posts
- Order ‚Üí Customer
- Vehicle ‚Üí Booking

üëâ Prisma relation fully **explicit**  
üëâ ‡¶∏‡¶¨ relation manually define ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡ßü

=========================================================================================
# 9. One-to-One Relation
=========================================================================================
Example:
- User ‚Üî Profile
- ‡¶è‡¶ï‡¶ú‡¶® user ‡¶è‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø profile

-----------------------------------------------------------------------------------------
model User {
  id      Int     @id @default(autoincrement())
  email   String  @unique
  profile Profile?
}

model Profile {
  id     Int  @id @default(autoincrement())
  bio    String
  userId Int  @unique
  user   User @relation(fields: [userId], references: [id])
}
-----------------------------------------------------------------------------------------

‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ:
- userId ‚Üí Foreign Key
- @unique ‚Üí One-to-One ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßá

=========================================================================================
# 10. One-to-Many Relation (Most Common)
=========================================================================================
Example:
- User ‚Üí Posts
- ‡¶è‡¶ï‡¶ú‡¶® user ‡¶è‡¶∞ ‡¶Ö‡¶®‡ßá‡¶ï post

-----------------------------------------------------------------------------------------
model User {
  id    Int    @id @default(autoincrement())
  name  String
  posts Post[]
}

model Post {
  id      Int    @id @default(autoincrement())
  title   String
  userId  Int
  user    User   @relation(fields: [userId], references: [id])
}
-----------------------------------------------------------------------------------------

‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ:
- User ‡¶è ‚Üí Post[]
- Post ‡¶è ‚Üí userId foreign key

=========================================================================================
# 11. Many-to-Many Relation
=========================================================================================
Example:
- Student ‚Üî Course
- ‡¶è‡¶ï‡¶ú‡¶® student ‡¶Ö‡¶®‡ßá‡¶ï course ‡¶®‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá

-----------------------------------------------------------------------------------------
model Student {
  id      Int      @id @default(autoincrement())
  name    String
  courses Course[]
}

model Course {
  id        Int       @id @default(autoincrement())
  title     String
  students  Student[]
}
-----------------------------------------------------------------------------------------

üëâ Prisma automatically junction table ‡¶¨‡¶æ‡¶®‡¶æ‡ßü  
üëâ Explicit join table ‡¶≤‡¶æ‡¶ó‡ßá‡¶®‡¶æ (simple case)

=========================================================================================
# 12. Explicit Many-to-Many (Advanced)
=========================================================================================
‡¶Ø‡¶ñ‡¶® extra field ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶π‡ßü:

-----------------------------------------------------------------------------------------
model Enrollment {
  id        Int      @id @default(autoincrement())
  studentId Int
  courseId  Int
  enrolledAt DateTime @default(now())

  student Student @relation(fields: [studentId], references: [id])
  course  Course  @relation(fields: [courseId], references: [id])
}

model Student {
  id          Int          @id @default(autoincrement())
  name        String
  enrollments Enrollment[]
}

model Course {
  id          Int          @id @default(autoincrement())
  title       String
  enrollments Enrollment[]
}
-----------------------------------------------------------------------------------------

=========================================================================================
# 13. Relation Attributes Explained
=========================================================================================
-----------------------------------------------------------------------------------------
@relation(fields: [fk], references: [pk])
-----------------------------------------------------------------------------------------

fields:
üëâ ‡¶è‡¶á table ‡¶è‡¶∞ foreign key

references:
üëâ ‡¶Ö‡¶®‡ßç‡¶Ø table ‡¶è‡¶∞ primary key

=========================================================================================
# 14. Relation + Optional Field
=========================================================================================
Optional relation:

-----------------------------------------------------------------------------------------
profile Profile?
-----------------------------------------------------------------------------------------

üëâ NULL allow ‡¶ï‡¶∞‡¶¨‡ßá  
üëâ Relation optional ‡¶π‡¶¨‡ßá

=========================================================================================
# 15. Real-World Example (Vehicle Rental)
=========================================================================================
User ‚Üí Booking ‚Üí Vehicle

-----------------------------------------------------------------------------------------
model User {
  id       Int       @id @default(autoincrement())
  name     String
  bookings Booking[]
}

model Vehicle {
  id       Int       @id @default(autoincrement())
  model    String
  bookings Booking[]
}

model Booking {
  id        Int      @id @default(autoincrement())
  userId    Int
  vehicleId Int
  startDate DateTime
  endDate   DateTime

  user    User    @relation(fields: [userId], references: [id])
  vehicle Vehicle @relation(fields: [vehicleId], references: [id])
}
-----------------------------------------------------------------------------------------

üëâ Real production-level design

=========================================================================================
# 16. Common Mistakes
=========================================================================================
‚ùå Foreign key field ‡¶®‡¶æ ‡¶≤‡ßá‡¶ñ‡¶æ  
‚ùå Relation only ‡¶è‡¶ï ‡¶™‡¶æ‡¶∂‡ßá ‡¶≤‡ßá‡¶ñ‡¶æ  
‚ùå @relation ‡¶≠‡ßÅ‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ  
‚ùå migrate ‡¶®‡¶æ ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã  

=========================================================================================
# 17. Best Practices
=========================================================================================
‚úî Clear model naming  
‚úî Explicit relations  
‚úî Real-world thinking  
‚úî schema change ‚Üí migrate dev  
‚úî Relation ‡¶Ü‡¶ó‡ßá design ‡¶ï‡¶∞‡ßã

=========================================================================================
# 18. Summary (Final Takeaway)
=========================================================================================
- Prisma Schema = DB blueprint
- Model = Table
- Relation = Table connection
- One-to-One, One-to-Many, Many-to-Many
- Prisma relation explicit & powerful
- Real backend ‡¶è relation design ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£

=========================================================================================
                                NEXT TOPIC
=========================================================================================
üëâ Next ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∂‡¶ø‡¶ñ‡¶¨‡ßã:
üìå Prisma CRUD Operations (Create, Read, Update, Delete)

=========================================================================================
                                   THE END
=========================================================================================
